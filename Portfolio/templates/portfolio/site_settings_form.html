{% extends "base.html" %}

{% block content %}
<div class="w-full max-w-4xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-3 sm:py-4 lg:py-6 overflow-x-hidden">
    <div class="mb-4 sm:mb-6">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">Site Settings</h1>
        <p class="text-sm sm:text-base text-gray-600">Configure site-wide settings including favicon</p>
    </div>

    <form method="post" enctype="multipart/form-data" class="bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-100 p-3 sm:p-4 lg:p-6 xl:p-8 space-y-4 sm:space-y-6 w-full overflow-x-hidden">
        {% csrf_token %}
        
        <div class="border-b border-gray-200 pb-4 sm:pb-6 overflow-hidden">
            <h2 class="text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4">Site Information</h2>
            <div class="space-y-4 sm:space-y-6">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Site Title</label>
                    <input type="text" name="site_title" value="{{ site_settings.site_title|default:'Dr. Abul Khayer (Biplob)' }}" class="w-full px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base" required>
                    <p class="mt-2 text-xs text-gray-500">This title will be used in browser tabs and meta tags</p>
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">Site Description</label>
                    <textarea name="site_description" rows="4" class="w-full px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base resize-y" placeholder="Enter site description for SEO...">{{ site_settings.site_description|default:'' }}</textarea>
                    <p class="mt-2 text-xs text-gray-500">This description will be used in meta tags for SEO</p>
                </div>
            </div>
        </div>

        <div class="border-b border-gray-200 pb-4 sm:pb-6 overflow-hidden">
            <h2 class="text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4">Favicon</h2>
            <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Favicon Image</label>
                {% if site_settings.favicon %}
                <div class="mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200">
                    <p class="text-xs text-gray-600 mb-2">Current favicon:</p>
                    <div class="flex items-center gap-4 flex-wrap">
                        <img src="{{ site_settings.favicon.url }}" alt="Current favicon" class="h-16 w-16 object-contain rounded border border-gray-300 flex-shrink-0">
                        <div class="flex-1 min-w-0">
                            <p class="text-xs text-gray-600 font-semibold break-all">{{ site_settings.favicon.name }}</p>
                            <p class="text-xs text-gray-500 mt-1">This favicon will be displayed in browser tabs</p>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="mb-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200">
                    <p class="text-xs text-yellow-700">No favicon uploaded yet. Please upload a favicon image.</p>
                </div>
                {% endif %}
                <input type="file" name="favicon" accept="image/png,image/x-icon,image/svg+xml,image/jpeg" class="w-full px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                <p class="mt-2 text-xs text-gray-500">Upload a favicon image (recommended: 32x32 or 16x16 PNG/ICO, or SVG format)</p>
            </div>
        </div>

        <div class="flex items-center pt-2 sm:pt-4 overflow-hidden">
            <input type="checkbox" name="is_active" {% if site_settings.is_active or not site_settings %}checked{% endif %} class="h-4 w-4 sm:h-5 sm:w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500 flex-shrink-0">
            <label class="ml-2 sm:ml-3 text-xs sm:text-sm font-semibold text-gray-700 break-words">Active (Enable these settings)</label>
        </div>

        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6 overflow-hidden">
            <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base shadow-lg transition-colors whitespace-nowrap">
                <i class="fas fa-save mr-2"></i>Save Settings
            </button>
            <a href="{% url 'admin-portfolio-dashboard' %}" class="px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl border border-gray-300 text-gray-700 font-semibold text-sm sm:text-base hover:bg-gray-50 transition-colors text-center whitespace-nowrap">
                Back to Dashboard
            </a>
        </div>
    </form>
</div>
{% endblock %}
